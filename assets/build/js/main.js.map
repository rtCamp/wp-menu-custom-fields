{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/main.js","webpack:///./src/scss/main.scss?0951"],"names":["window","$","jQuery","NavMenuItem","menuLi","menuId","tinyMceSet","mediaModal","length","destroy","bind","initTinyMce","handleRadioImage","handleRadioShortcode","handleRadioHtml","openMediaModal","handleMediaModalOpen","handleMediaModalClose","setMediaUploader","setTinyMce","radioImage","radioShortcode","radioHtml","deleteButton","find","on","prop","imageP","shortcodeP","htmlP","mediaUploaderButton","removeClass","addClass","off","tinymce","selector","remove","init","setup","editor","triggerSave","config","title","wpMenuCustomFields","selectMediaText","multiple","library","type","wp","media","open","mediaId","val","attachment","fetch","state","get","add","selection","mediaUrl","mediaType","html","each","id","attributes","url","NavMenu","initializedNavMenuIds","menuContainer","e","getMenuId","target","element","replace"],"mappings":"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","file":"js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","/**\n * Main scripts, loaded on all pages.\n *\n * @package wp-menu-custom-fields\n */\n\n/**\n * Internal dependencies\n */\nimport '../scss/main.scss';\n\nwindow.$ = window.$ || jQuery;\n\n/**\n * Single nav menu Item.\n *\n * @type {Object}\n */\nclass NavMenuItem {\n\n\t/**\n\t * Initialize.\n\t *\n\t * @param {Element} menuLi Menu item li with class 'menu-item\n\t * @param {int|string} menuId  Menu id.\n\t *\n\t * @return {void}\n\t */\n\tconstructor( menuLi, menuId ) {\n\t\tthis.menuLi = menuLi;\n\t\tthis.menuId = menuId;\n\t\tthis.tinyMceSet = false;\n\t\tthis.mediaModal = {};\n\n\t\tif ( ! menuLi.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.destroy = this.destroy.bind( this );\n\t\tthis.initTinyMce = this.initTinyMce.bind( this );\n\t\tthis.handleRadioImage = this.handleRadioImage.bind( this );\n\t\tthis.handleRadioShortcode = this.handleRadioShortcode.bind( this );\n\t\tthis.handleRadioHtml = this.handleRadioHtml.bind( this );\n\t\tthis.openMediaModal = this.openMediaModal.bind( this );\n\t\tthis.handleMediaModalOpen = this.handleMediaModalOpen.bind( this );\n\t\tthis.handleMediaModalClose = this.handleMediaModalClose.bind( this );\n\t\tthis.setMediaUploader = this.setMediaUploader.bind( this );\n\t\tthis.setTinyMce = this.setTinyMce.bind( this );\n\n\t\tthis.radioImage = jQuery( '#menu-item-selected-feature-radio-image-' + this.menuId );\n\t\tthis.radioShortcode = jQuery( '#menu-item-selected-feature-radio-shortcode-' + this.menuId );\n\t\tthis.radioHtml = jQuery( '#menu-item-selected-feature-radio-html-' + this.menuId );\n\t\tthis.deleteButton = this.menuLi.find( '#delete-' + this.menuId );\n\n\t\tthis.radioImage.on( 'click', this.handleRadioImage );\n\t\tthis.radioShortcode.on( 'click', this.handleRadioShortcode );\n\t\tthis.radioHtml.on( 'click', this.handleRadioHtml );\n\t\tthis.deleteButton.on( 'click', this.destroy );\n\n\t\tif ( this.radioImage.prop( 'checked' ) ) {\n\t\t\tthis.setMediaUploader();\n\t\t} else if ( this.radioHtml.prop( 'checked' ) ) {\n\t\t\tthis.setTinyMce();\n\t\t}\n\n\t\tthis.imageP = this.menuLi.find( '.menu-item-media-p-' + this.menuId );\n\t\tthis.shortcodeP = this.menuLi.find( '.menu-item-shortcode-p-' + this.menuId );\n\t\tthis.htmlP = this.menuLi.find( '.menu-item-html-p-' + this.menuId );\n\t}\n\n\t/**\n\t * Set media uploader button and it's event.\n\t *\n\t * @return {void}\n\t */\n\tsetMediaUploader() {\n\t\tif ( ! this.mediaUploaderButton ) {\n\t\t\tthis.mediaUploaderButton = jQuery( '#custom-field-select-image-' + this.menuId );\n\t\t\tthis.mediaUploaderButton.on( 'click', this.openMediaModal );\n\t\t}\n\t}\n\n\t/**\n\t * Call Initiate tinymce and set tinymce set variable.\n\t *\n\t * @return {void}\n\t */\n\tsetTinyMce() {\n\t\tif ( ! this.tinyMceSet ) {\n\t\t\tthis.initTinyMce();\n\t\t\tthis.tinyMceSet = true;\n\t\t}\n\t}\n\n\t/**\n\t * Handle image radio button click event.\n\t *\n\t * @return {void}\n\t */\n\thandleRadioImage() {\n\t\tthis.setMediaUploader();\n\n\t\tthis.imageP.removeClass( 'menu-item-hidden' );\n\t\tthis.shortcodeP.addClass( 'menu-item-hidden' );\n\t\tthis.htmlP.addClass( 'menu-item-hidden' );\n\t}\n\n\t/**\n\t * Handle shortcode radio button click event.\n\t *\n\t * @return {void}\n\t */\n\thandleRadioShortcode() {\n\t\tthis.imageP.addClass( 'menu-item-hidden' );\n\t\tthis.shortcodeP.removeClass( 'menu-item-hidden' );\n\t\tthis.htmlP.addClass( 'menu-item-hidden' );\n\t}\n\n\t/**\n\t * Handle html radio button click event.\n\t *\n\t * @return {void}\n\t */\n\thandleRadioHtml() {\n\t\tthis.setTinyMce();\n\n\t\tthis.imageP.addClass( 'menu-item-hidden' );\n\t\tthis.shortcodeP.addClass( 'menu-item-hidden' );\n\t\tthis.htmlP.removeClass( 'menu-item-hidden' );\n\t}\n\n\t/**\n\t * Remove all event listeners, destroy tinyMCE.\n\t *\n\t * @return {void}\n\t */\n\tdestroy() {\n\t\tif ( this.mediaUploaderButton ) {\n\t\t\tthis.mediaUploaderButton.off( 'click', this.openMediaModal );\n\t\t\tthis.mediaModal = null;\n\t\t}\n\n\t\tif ( this.tinyMceSet && 'undefined' !== typeof tinymce ) {\n\t\t\tconst selector = '#menu-item-custom-html-' + this.menuId;\n\t\t\ttinymce.remove( selector );\n\t\t}\n\n\t\tthis.radioImage.off( 'click', this.handleRadioImage );\n\t\tthis.radioShortcode.off( 'click', this.handleRadioShortcode );\n\t\tthis.radioHtml.off( 'click', this.handleRadioHtml );\n\t}\n\n\t/**\n\t * Initiate tinymce editor.\n\t *\n\t * @return {void}\n\t */\n\tinitTinyMce() {\n\t\tif ( 'undefined' !== typeof tinymce ) {\n\t\t\tconst selector = '#menu-item-custom-html-' + this.menuId;\n\n\t\t\ttinymce.init( {\n\t\t\t\tselector: selector,\n\t\t\t\tsetup: ( editor ) => {\n\t\t\t\t\teditor.on( 'change', () => {\n\t\t\t\t\t\ttinymce.triggerSave();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Open media library modal.\n\t *\n\t * @return {void}\n\t */\n\topenMediaModal() {\n\t\tconst config = {\n\t\t\ttitle: wpMenuCustomFields.selectMediaText,\n\t\t\tmultiple: false,\n\t\t\tlibrary: {\n\t\t\t\ttype: [ 'image' ]\n\t\t\t}\n\t\t};\n\n\t\tthis.mediaModal = wp.media( config );\n\t\tthis.mediaModal.on( 'open', this.handleMediaModalOpen );\n\t\tthis.mediaModal.on( 'close', this.handleMediaModalClose );\n\t\tthis.mediaModal.open();\n\t}\n\n\t/**\n\t * Handle media modal open.\n\t *\n\t * @return {void}\n\t */\n\thandleMediaModalOpen() {\n\t\tconst mediaId = jQuery( '#menu-item-media-id-' + this.menuId ).val();\n\t\tif ( ! mediaId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst attachment = wp.media.attachment( mediaId );\n\t\tif ( attachment ) {\n\t\t\tattachment.fetch();\n\t\t\tthis.mediaModal.state().get( 'selection' ).add( attachment ? [ attachment ] : [] );\n\t\t}\n\t}\n\n\t/**\n\t * Handle media modal close.\n\t *\n\t * @return {void}\n\t */\n\thandleMediaModalClose() {\n\t\tconst selection = this.mediaModal.state().get( 'selection' );\n\t\tlet mediaId = false;\n\t\tlet mediaUrl = false;\n\t\tlet mediaType = false;\n\n\t\tif ( ! selection.length ) {\n\t\t\tjQuery( '#menu-item-media-id-' + this.menuId ).val( '' );\n\t\t\tjQuery( '#menu-item-media-type-' + this.menuId ).val( '' );\n\t\t\tjQuery( '#menu-item-selected-media-display-paragraph-' + this.menuId ).html( '' );\n\n\t\t\treturn;\n\t\t}\n\n\t\tselection.each( ( attachment ) => {\n\t\t\tmediaId = attachment.id;\n\t\t\tif ( attachment.attributes ) {\n\t\t\t\tmediaUrl = attachment.attributes.url;\n\t\t\t\tmediaType = attachment.attributes.type;\n\t\t\t}\n\t\t} );\n\n\t\tif ( ! mediaId || ! mediaUrl ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( 'image' === mediaType ) {\n\t\t\tjQuery( '#menu-item-media-id-' + this.menuId ).val( mediaId );\n\t\t\tjQuery( '#menu-item-media-type-' + this.menuId ).val( mediaType );\n\t\t\tjQuery( '#menu-item-selected-media-display-paragraph-' + this.menuId ).html( '<img height=\"100\" src=\"' + mediaUrl + '\">' );\n\t\t}\n\t}\n}\n\n/**\n * Nav Menus.\n *\n * @type {Object}\n */\nconst NavMenu = {\n\n\t/**\n\t * Initialized nav menu ids.\n\t *\n\t * @type {object}\n\t */\n\tinitializedNavMenuIds: {},\n\n\t/**\n\t * Initialize.\n\t *\n\t * @return {void}\n\t */\n\tinit() {\n\t\tthis.menuContainer = jQuery( '#menu-to-edit' );\n\t\tthis.menuContainer.on( 'click', '.item-edit', ( e ) => {\n\t\t\tconst menuId = this.getMenuId( jQuery( e.target ) );\n\n\t\t\tif ( 'undefined' === typeof this.initializedNavMenuIds[ menuId ] ) {\n\t\t\t\tconst menuLi = jQuery( `#menu-item-${ menuId }` );\n\t\t\t\tnew NavMenuItem( menuLi, menuId );\n\n\t\t\t\tthis.initializedNavMenuIds[ menuId ] = true;\n\t\t\t}\n\t\t} );\n\t},\n\n\t/**\n\t * Get menu id.\n\t *\n\t * @param {Element} element Element.\n\t *\n\t * @return {string}\n\t */\n\tgetMenuId( element ) {\n\t\tif ( ! element ||  ! element.prop( 'id' ).length ) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn element.prop( 'id' ).replace( /[^\\d.]/g, '' );\n\t}\n};\n\nNavMenu.init();\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}